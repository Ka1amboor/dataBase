@startuml Library_ER_Diagram
'Автор: Лисняк А.В. 

!function $autogenerated($a)
!return "<color:RoyalBlue>" + $a + " << PK>></color>"
!endfunction

!function $setBold($a)
!return "<b>" + $a + " </b>"
!endfunction

skinparam BackgroundColor SeaShell
skinparam LegendBackgroundColor MistyRose
skinparam LegendBorderColor PaleVioletRed
skinparam LegendFontColor PaleVioletRed

skinparam Class {
    HeaderBackgroundColor PaleGreen
}

skinparam TitleFontColor Sienna

Header Пример ER-диаграммы
Title ER-diagram "Library"

entity "$setBold("User")" as user {
    * $autogenerated("id : integer")
    ..
    * name : varchar(255)
    * surname : varchar(255)
    * patronimyc : varchar(255)
    * email : varchar(255)
    * birth_date : date
    * discount_card : integer
}

entity "$setBold("Book")" as book {
    * $autogenerated("id : integer")
    ..
    * year_of_publication : timestamp 
    * title : varchar(255)
    * author : varchar(255)
    * genre : varchar(255)
    * price : money 
}

entity "$setBold("Rental_history")" as rental_history {
    * $autogenerated("id : integer")
    ..
    * date : timestamp
    * status : varchar(255)
    * comments : varchar(255)
}

' Новая сущность для реализации связи многие-ко-многим
entity "$setBold("User_Book")" as user_book {
    * id_user : integer <<PK>>
    * id_book : integer <<PK>>
}


user ||--o user_book
book ||--o user_book

book "1" -- "1" rental_history

legend right
$setBold("Условные обозначения:")
* - обязательное поле
PK - первичный ключ
end legend

footer Лисняк Александра, 2024

@enduml
